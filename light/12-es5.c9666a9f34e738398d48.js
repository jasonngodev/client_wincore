!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7/0x":function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return r}))},zioG:function(e,a,f){"use strict";f.d(a,"a",(function(){return V})),f.d(a,"b",(function(){return U}));var d=f("7/0x"),h=f("IzLi"),l=f("Ju5/"),v=function(){return l.a.Date.now()},g=f("8M4i"),m=f("EUcb"),y=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,_=/^0o[0-7]+$/i,w=parseInt,E=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||Object(m.a)(t)&&"[object Symbol]"==Object(g.a)(t)}(t))return NaN;if(Object(h.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(h.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(y,"");var n=b.test(t);return n||_.test(t)?w(t.slice(2),n?2:8):p.test(t)?NaN:+t},O=Math.max,k=Math.min,j=f("CfRg"),D=f("UudT"),x=Function.prototype.toString,R=Object.prototype.hasOwnProperty,T=x.call(Object);function C(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=[t],r=new Set;n.length>0;){var i=n.shift();if(!(r.has(i)||S(i)||e.has(i)))if(r.add(i),i[Symbol.iterator])try{var o,a=c(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;n.push(s)}}catch(f){a.e(f)}finally{a.f()}}catch(f){}else for(var u in i)"defaultValue"!==u&&n.push(i[u])}return r}function S(t){var e=Object.prototype.toString.call(t),n=typeof t;return"number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t instanceof EventTarget||t instanceof Event}var P,W=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(f,e);var a=o(f);function f(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(this,f),(n=a.call(this,r))._editor=null,n._throttledSave=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Object(h.a)(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(t,e,n){var r,i,o,a,s,u,c=0,f=!1,d=!1,l=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function m(t){return c=t,s=setTimeout(p,e),f?g(t):a}function y(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-c>=o}function p(){var t=v();if(y(t))return b(t);s=setTimeout(p,function(t){var n=e-(t-u);return d?k(n,o-(t-c)):n}(t))}function b(t){return s=void 0,l&&r?g(t):(r=i=void 0,a)}function _(){var t=v(),n=y(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return m(u);if(d)return clearTimeout(s),s=setTimeout(p,e),g(u)}return void 0===s&&(s=setTimeout(p,e)),a}return e=E(e)||0,Object(h.a)(n)&&(f=!!n.leading,o=(d="maxWait"in n)?O(E(n.maxWait)||0,e):o,l="trailing"in n?!!n.trailing:l),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},_.flush=function(){return void 0===s?a:b(v())},_}(t,e,{leading:r,maxWait:e,trailing:i})}(n._save.bind(s(n)),"number"==typeof r.saveInterval?r.saveInterval:5e3),n._creator=function(t,n){return e.create(t,n)},n._destructor=function(t){return t.destroy()},n}return n(f,[{key:"_restart",value:function(){var t=this;return Promise.resolve().then((function(){return t.state="initializing",t._fire("stateChange"),t._destroy()})).catch((function(t){console.error("An error happened during the editor destroying.",t)})).then((function(){if("string"==typeof t._elementOrData)return t.create(t._data,t._config,t._config.context);var e=Object.assign({},t._config,{initialData:t._data});return t.create(t._elementOrData,e,e.context)})).then((function(){t._fire("restart")}))}},{key:"create",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._elementOrData,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._config,i=arguments.length>2?arguments[2]:void 0;return Promise.resolve().then((function(){return r(u(f.prototype),"_startErrorHandling",t).call(t),t._elementOrData=e,t._config=t._cloneEditorConfiguration(n)||{},t._config.context=i,t._creator(e,t._config)})).then((function(e){t._editor=e,e.model.document.on("change:data",t._throttledSave),t._lastDocumentVersion=e.model.document.version,t._data=t._getData(),t.state="ready",t._fire("stateChange")}))}},{key:"destroy",value:function(){var t=this;return Promise.resolve().then((function(){return t.state="destroyed",t._fire("stateChange"),r(u(f.prototype),"destroy",t).call(t),t._destroy()}))}},{key:"_destroy",value:function(){var t=this;return Promise.resolve().then((function(){t._stopErrorHandling(),t._throttledSave.flush();var e=t._editor;return t._editor=null,t._destructor(e)}))}},{key:"_save",value:function(){var t=this._editor.model.document.version;if(t!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}},{key:"_setExcludedProperties",value:function(t){this._excludedProps=t}},{key:"_getData",value:function(){var t,e={},n=c(this._editor.model.document.getRootNames());try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r]=this._editor.data.get({rootName:r})}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"_isErrorComingFromThisItem",value:function(t){return function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(t===e&&"object"==typeof(n=t)&&null!==n)return!0;var i,o=C(t,r),a=C(e,r),s=c(o);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(a.has(u))return!0}}catch(f){s.e(f)}finally{s.f()}return!1}(this._editor,t.context,this._excludedProps)}},{key:"_cloneEditorConfiguration",value:function(t){return e=t,n="function"==typeof(n=function(t,e){return function(t){return Object(m.a)(t)&&1===t.nodeType&&!function(t){if(!Object(m.a)(t)||"[object Object]"!=Object(g.a)(t))return!1;var e=Object(D.a)(t);if(null===e)return!0;var n=R.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&x.call(n)==T}(t)}(t)||"context"===e?t:void 0})?n:void 0,Object(j.a)(e,5,n);var e,n}},{key:"editor",get:function(){return this._editor}},{key:"_item",get:function(){return this._editor}}]),f}(function(){function e(n){var r=this;if(t(this,e),this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof n.crashNumberLimit?n.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof n.minimumNonErrorTimePeriod?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=function(t){var e=t.error||t.reason;e instanceof Error&&r._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}return n(e,[{key:"setCreator",value:function(t){this._creator=t}},{key:"setDestructor",value:function(t){this._destructor=t}},{key:"destroy",value:function(){this._stopErrorHandling(),this._listeners={}}},{key:"on",value:function(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}},{key:"off",value:function(t,e){this._listeners[t]=this._listeners[t].filter((function(t){return t!==e}))}},{key:"_fire",value:function(t){for(var e=this._listeners[t]||[],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a=c(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.apply(this,[null].concat(r))}}catch(u){a.e(u)}finally{a.f()}}},{key:"_startErrorHandling",value:function(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_stopErrorHandling",value:function(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_handleError",value:function(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});var n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}},{key:"_shouldReactToError",value:function(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}},{key:"_shouldRestart",value:function(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}]),e}()),N=f("fXoL"),I=f("ofXK"),A=f("3Pt+");function L(t,e){}!function(t){t.EditorConstructor=function(){},t.Config=function(){},t.EventInfo=function(){},t.BaseEditor=function(){},t.DataApi=function(){},t.Editor=function(){},t.ContextWatchdog=function(){},t.EditorWatchdog=function(){},t.Watchdog=function(){}}(P||(P={}));var H,M,Z=new Array(256).fill(0).map((function(t,e){return("0"+e.toString(16)).slice(-2)})),V=((M=function(){function e(n,r){var i,o,a,s;t(this,e),this.config={},this.data="",this.tagName="div",this.ready=new N.r,this.change=new N.r,this.blur=new N.r,this.focus=new N.r,this.error=new N.r,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=(i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,"e"+Z[i>>0&255]+Z[i>>8&255]+Z[i>>16&255]+Z[i>>24&255]+Z[o>>0&255]+Z[o>>8&255]+Z[o>>16&255]+Z[o>>24&255]+Z[a>>0&255]+Z[a>>8&255]+Z[a>>16&255]+Z[a>>24&255]+Z[s>>0&255]+Z[s>>8&255]+Z[s>>16&255]+Z[s>>24&255]),this.ngZone=r,this.elementRef=n}return n(e,[{key:"ngAfterViewInit",value:function(){this.attachToWatchdog()}},{key:"ngOnDestroy",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.watchdog){t.next=5;break}return t.next=3,this.watchdog.remove(this.id);case 3:t.next=10;break;case 5:if(t.t0=this.editorWatchdog&&this.editorWatchdog.editor,!t.t0){t.next=10;break}return t.next=9,this.editorWatchdog.destroy();case 9:this.editorWatchdog=void 0;case 10:case"end":return t.stop()}}),t,this)})))}},{key:"writeValue",value:function(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.editorElement&&(this.editorElement.innerHTML=this.data))}},{key:"registerOnChange",value:function(t){this.cvaOnChange=t}},{key:"registerOnTouched",value:function(t){this.cvaOnTouched=t}},{key:"setDisabledState",value:function(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}},{key:"attachToWatchdog",value:function(){var t=this,e=function(e,n){return Object(d.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ngZone.runOutsideAngular((function(){return Object(d.a)(r,void 0,void 0,regeneratorRuntime.mark((function t(){var r,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.elementRef.nativeElement.appendChild(e),t.next=3,this.editor.create(e,n);case 3:return r=t.sent,t.abrupt("return",(this.initiallyDisabled&&(r.isReadOnly=this.initiallyDisabled),this.ngZone.run((function(){i.ready.emit(r)})),this.setUpEditorEvents(r),r));case 5:case"end":return t.stop()}}),t,this)})))})));case 1:case"end":return t.stop()}}),t,this)})))},n=function(e){return Object(d.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy();case 2:this.elementRef.nativeElement.removeChild(this.editorElement);case 3:case"end":return t.stop()}}),t,this)})))},r=function(){t.ngZone.run((function(){t.error.emit()}))},i=document.createElement(this.tagName),o=this.getConfig();if(this.editorElement=i,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:e,destructor:n,sourceElementOrData:i,config:o}),this.watchdog.on("itemError",(function(e,n){n.itemId===t.id&&r()}));else{var a=new W(this.editor);a.setCreator(e),a.setDestructor(n),a.on("error",r),this.editorWatchdog=a,this.editorWatchdog.create(i,o)}}},{key:"getConfig",value:function(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");return Object.assign({},this.config,{initialData:this.config.initialData||this.data||""})}},{key:"setUpEditorEvents",value:function(t){var e=this,n=t.editing.view.document;t.model.document.on("change:data",(function(n){e.ngZone.run((function(){if(e.cvaOnChange&&!e.isEditorSettingData){var r=t.getData();e.cvaOnChange(r)}e.change.emit({event:n,editor:t})}))})),n.on("focus",(function(n){e.ngZone.run((function(){e.focus.emit({event:n,editor:t})}))})),n.on("blur",(function(n){e.ngZone.run((function(){e.cvaOnTouched&&e.cvaOnTouched(),e.blur.emit({event:n,editor:t})}))}))}},{key:"disabled",set:function(t){this.setDisabledState(t)},get:function(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}},{key:"editorInstance",get:function(){var t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}}]),e}()).\u0275fac=function(t){return new(t||M)(N.cc(N.o),N.cc(N.J))},M.\u0275cmp=N.Wb({type:M,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[N.Ob([{provide:A.k,useExisting:Object(N.ib)((function(){return M})),multi:!0}])],decls:1,vars:0,template:function(t,e){1&t&&N.ad(0,L,0,0,"ng-template")},encapsulation:2}),M),U=((H=function e(){t(this,e)}).\u0275mod=N.ac({type:H}),H.\u0275inj=N.Zb({factory:function(t){return new(t||H)},imports:[[A.i,I.c]]}),H)}}])}();