(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{tlYM:function(t,e,i){"use strict";function r(t,e,i,r){return new(i||(i=Promise))((function(n,o){function s(t){try{h(r.next(t))}catch(e){o(e)}}function a(t){try{h(r.throw(t))}catch(e){o(e)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((r=r.apply(t,e||[])).next())}))}i.d(e,"a",(function(){return r}))},zioG:function(t,e,i){"use strict";i.d(e,"a",(function(){return I})),i.d(e,"b",(function(){return P}));var r=i("tlYM"),n=i("IzLi"),o=i("Ju5/"),s=function(){return o.a.Date.now()},a=i("8M4i"),h=i("EUcb"),c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt,g=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||Object(h.a)(t)&&"[object Symbol]"==Object(a.a)(t)}(t))return NaN;if(Object(n.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(n.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var i=u.test(t);return i||l.test(t)?f(t.slice(2),i?2:8):d.test(t)?NaN:+t},m=Math.max,_=Math.min,v=i("CfRg"),p=i("UudT"),b=Function.prototype.toString,y=Object.prototype.hasOwnProperty,E=b.call(Object);function w(t,e=new Set){const i=[t],r=new Set;for(;i.length>0;){const t=i.shift();if(!(r.has(t)||O(t)||e.has(t)))if(r.add(t),t[Symbol.iterator])try{for(const e of t)i.push(e)}catch(n){}else for(const e in t)"defaultValue"!==e&&i.push(t[e])}return r}function O(t){const e=Object.prototype.toString.call(t),i=typeof t;return"number"===i||"boolean"===i||"string"===i||"symbol"===i||"function"===i||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t instanceof EventTarget||t instanceof Event}class D extends class{constructor(t){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e=t.error||t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(t=>t!==e)}_fire(t,...e){const i=this._listeners[t]||[];for(const r of i)r.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=function(t,e,i){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Object(n.a)(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),function(t,e,i){var r,o,a,h,c,d,u=0,l=!1,f=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var i=r,n=o;return r=o=void 0,u=e,h=t.apply(n,i)}function b(t){return u=t,c=setTimeout(E,e),l?p(t):h}function y(t){var i=t-d;return void 0===d||i>=e||i<0||f&&t-u>=a}function E(){var t=s();if(y(t))return w(t);c=setTimeout(E,function(t){var i=e-(t-d);return f?_(i,a-(t-u)):i}(t))}function w(t){return c=void 0,v&&r?p(t):(r=o=void 0,h)}function O(){var t=s(),i=y(t);if(r=arguments,o=this,d=t,i){if(void 0===c)return b(d);if(f)return clearTimeout(c),c=setTimeout(E,e),p(d)}return void 0===c&&(c=setTimeout(E,e)),h}return e=g(e)||0,Object(n.a)(i)&&(l=!!i.leading,a=(f="maxWait"in i)?m(g(i.maxWait)||0,e):a,v="trailing"in i?!!i.trailing:v),O.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=d=o=c=void 0},O.flush=function(){return void 0===c?h:w(s())},O}(t,e,{leading:r,maxWait:e,trailing:o})}(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(e,i)=>t.create(e,i),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,i){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=i,this._creator(t,this._config))).then(t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,this._destructor(t)})}_save(){const t=this._editor.model.document.version;if(t!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return function(t,e,i=new Set){if(t===e&&"object"==typeof(r=t)&&null!==r)return!0;var r;const n=w(t,i),o=w(e,i);for(const s of n)if(o.has(s))return!0;return!1}(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return e=t,i="function"==typeof(i=(t,e)=>function(t){return Object(h.a)(t)&&1===t.nodeType&&!function(t){if(!Object(h.a)(t)||"[object Object]"!=Object(a.a)(t))return!1;var e=Object(p.a)(t);if(null===e)return!0;var i=y.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&b.call(i)==E}(t)}(t)||"context"===e?t:void 0)?i:void 0,Object(v.a)(e,5,i);var e,i}}var j,T=i("fXoL"),C=i("ofXK"),x=i("3Pt+");function W(t,e){}!function(t){t.EditorConstructor=function(){},t.Config=function(){},t.EventInfo=function(){},t.BaseEditor=function(){},t.DataApi=function(){},t.Editor=function(){},t.ContextWatchdog=function(){},t.EditorWatchdog=function(){},t.Watchdog=function(){}}(j||(j={}));const N=(t,e)=>("0"+e.toString(16)).slice(-2),S=new Array(256).fill(0).map(N);let I=(()=>{class t{constructor(t,e){this.config={},this.data="",this.tagName="div",this.ready=new T.r,this.change=new T.r,this.blur=new T.r,this.focus=new T.r,this.error=new T.r,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+S[t>>0&255]+S[t>>8&255]+S[t>>16&255]+S[t>>24&255]+S[e>>0&255]+S[e>>8&255]+S[e>>16&255]+S[e>>24&255]+S[i>>0&255]+S[i>>8&255]+S[i>>16&255]+S[i>>24&255]+S[r>>0&255]+S[r>>8&255]+S[r>>16&255]+S[r>>24&255]}(),this.ngZone=e,this.elementRef=t}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return Object(r.a)(this,void 0,void 0,(function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)}))}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.editorElement&&(this.editorElement.innerHTML=this.data))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}attachToWatchdog(){const t=(t,e)=>Object(r.a)(this,void 0,void 0,(function*(){return this.ngZone.runOutsideAngular(()=>Object(r.a)(this,void 0,void 0,(function*(){this.elementRef.nativeElement.appendChild(t);const i=yield this.editor.create(t,e);return this.initiallyDisabled&&(i.isReadOnly=this.initiallyDisabled),this.ngZone.run(()=>{this.ready.emit(i)}),this.setUpEditorEvents(i),i})))})),e=t=>Object(r.a)(this,void 0,void 0,(function*(){yield t.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)})),i=()=>{this.ngZone.run(()=>{this.error.emit()})},n=document.createElement(this.tagName),o=this.getConfig();if(this.editorElement=n,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:e,sourceElementOrData:n,config:o}),this.watchdog.on("itemError",(t,{itemId:e})=>{e===this.id&&i()});else{const r=new D(this.editor);r.setCreator(t),r.setDestructor(e),r.on("error",i),this.editorWatchdog=r,this.editorWatchdog.create(n,o)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");return Object.assign({},this.config,{initialData:this.config.initialData||this.data||""})}setUpEditorEvents(t){const e=t.editing.view.document;t.model.document.on("change:data",e=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const e=t.getData();this.cvaOnChange(e)}this.change.emit({event:e,editor:t})})}),e.on("focus",e=>{this.ngZone.run(()=>{this.focus.emit({event:e,editor:t})})}),e.on("blur",e=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:e,editor:t})})})}}return t.\u0275fac=function(e){return new(e||t)(T.cc(T.o),T.cc(T.J))},t.\u0275cmp=T.Wb({type:t,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[T.Ob([{provide:x.l,useExisting:Object(T.ib)(()=>t),multi:!0}])],decls:1,vars:0,template:function(t,e){1&t&&T.bd(0,W,0,0,"ng-template")},encapsulation:2}),t})(),P=(()=>{class t{}return t.\u0275mod=T.ac({type:t}),t.\u0275inj=T.Zb({factory:function(e){return new(e||t)},imports:[[x.j,C.c]]}),t})()}}]);